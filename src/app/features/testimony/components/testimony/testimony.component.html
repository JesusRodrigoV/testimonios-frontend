<div class="testimony-card">
  <h3>{{ testimony.title }}</h3>
  <p class="description">{{ testimony.description }}</p>
  <div class="media">
    @defer (on viewport) {
      <video
        *ngIf="testimony.format === 'Video'"
        [src]="testimony.url"
        controls
        loading="lazy"
      ></video>
      <audio
        *ngIf="testimony.format === 'Audio'"
        [src]="testimony.url"
        controls
        loading="lazy"
      ></audio>
      <p *ngIf="testimony.format === 'Texto'">{{ testimony.content }}</p>
    } @placeholder (minimum 500ms) {
      <div class="skeleton-media"></div>
    } @loading (minimum 1s; after 500ms) {
      <div class="loading">
        <axl-spinner />
        <p>Cargando medio...</p>
      </div>
    } @error {
      <div class="error">
        <p>Error al cargar el medio.</p>
      </div>
    }
  </div>
  <p class="meta">Subido por: {{ testimony.author }}</p>
  <p class="meta">Fecha: {{ testimony.createdAt | date: "medium" }}</p>
  <p class="meta">
    Categor√≠as: {{ testimony.categories.join(", ") || "Ninguna" }}
  </p>
  <p class="meta">Etiquetas: {{ testimony.tags.join(", ") || "Ninguna" }}</p>
  <p class="meta" *ngIf="testimony.event">Evento: {{ testimony.event }}</p>
</div>
